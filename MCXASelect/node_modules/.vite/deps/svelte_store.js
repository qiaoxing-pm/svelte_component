import "./warnings-Ds7e8mX2.js";
import { Kt as createSubscriber, N as effect_root, P as effect_tracking, V as render_effect, d as active_reaction, u as active_effect, v as set_active_effect, y as set_active_reaction } from "./events-CwpACFa3.js";
import "./flags-ZndxuwIb.js";
import { A as writable, D as get, E as derived, O as readable, k as readonly } from "./index-client-CBge2tFO.js";
import "./legacy-client-CIDjJgkg.js";
import "./clsx-BEVdsx5B.js";

//#region node_modules/svelte/src/store/index-client.js
/** @import { Readable, Writable } from './public.js' */
/**
* @template V
* @overload
* @param {() => V} get
* @param {(v: V) => void} set
* @returns {Writable<V>}
*/
/**
* @template V
* @overload
* @param {() => V} get
* @returns {Readable<V>}
*/
/**
* Create a store from a function that returns state, and (to make a writable store), an
* optional second function that sets state.
*
* ```ts
* import { toStore } from 'svelte/store';
*
* let count = $state(0);
*
* const store = toStore(() => count, (v) => (count = v));
* ```
* @template V
* @param {() => V} get
* @param {(v: V) => void} [set]
* @returns {Writable<V> | Readable<V>}
*/
function toStore(get$1, set) {
	var effect = active_effect;
	var reaction = active_reaction;
	var init_value = get$1();
	const store = writable(init_value, (set$1) => {
		var ran = init_value !== get$1();
		var teardown;
		var previous_reaction = active_reaction;
		var previous_effect = active_effect;
		set_active_reaction(reaction);
		set_active_effect(effect);
		try {
			teardown = effect_root(() => {
				render_effect(() => {
					const value = get$1();
					if (ran) set$1(value);
				});
			});
		} finally {
			set_active_reaction(previous_reaction);
			set_active_effect(previous_effect);
		}
		ran = true;
		return teardown;
	});
	if (set) return {
		set,
		update: (fn) => set(fn(get$1())),
		subscribe: store.subscribe
	};
	return { subscribe: store.subscribe };
}
/**
* @template V
* @overload
* @param {Writable<V>} store
* @returns {{ current: V }}
*/
/**
* @template V
* @overload
* @param {Readable<V>} store
* @returns {{ readonly current: V }}
*/
/**
* Convert a store to an object with a reactive `current` property. If `store`
* is a readable store, `current` will be a readonly property.
*
* ```ts
* import { fromStore, get, writable } from 'svelte/store';
*
* const store = writable(0);
*
* const count = fromStore(store);
*
* count.current; // 0;
* store.set(1);
* count.current; // 1
*
* count.current += 1;
* get(store); // 2
* ```
* @template V
* @param {Writable<V> | Readable<V>} store
*/
function fromStore(store) {
	let value = void 0;
	const subscribe = createSubscriber((update) => {
		let ran = false;
		const unsubscribe = store.subscribe((v) => {
			value = v;
			if (ran) update();
		});
		ran = true;
		return unsubscribe;
	});
	function current() {
		if (effect_tracking()) {
			subscribe();
			return value;
		}
		return get(store);
	}
	if ("set" in store) return {
		get current() {
			return current();
		},
		set current(v) {
			store.set(v);
		}
	};
	return { get current() {
		return current();
	} };
}

//#endregion
export { derived, fromStore, get, readable, readonly, toStore, writable };
//# sourceMappingURL=svelte_store.js.map